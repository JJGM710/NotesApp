{"version":3,"sources":["hooks/useForm.js","types/types.js","firebase/firebaseConfig.js","actions/ui.js","helpers/loadNotes.js","helpers/loadEntries.js","helpers/fileUpload.js","actions/notes.js","actions/auth.js","components/auth/LoginScreen.js","components/auth/RegisterScreen.js","routers/AuthRouter.js","components/journal/JournalEntry.js","components/journal/JournalEntries.js","components/journal/SideBar.js","components/notes/NotesAppBar.js","components/notes/ImgLoad.js","components/notes/NoteScreen.js","components/journal/NothingSelected.js","components/journal/JournalScreen.js","routers/PublicRoute.js","routers/PrivateRoute.js","routers/AppRouter.js","reducers/uiReducer.js","reducers/notesReducer.js","store/store.js","reducers/authReducer.js","JournalApp.js","index.js"],"names":["useForm","initialState","useState","formValues","setValues","reset","newFormState","handleInputChange","target","name","value","types","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","firestore","googleAuthProvider","auth","GoogleAuthProvider","setError","err","type","payload","removeError","removeRedirectError","startLoading","finishLoading","loadNotes","uid","a","collection","orderBy","get","notesSnap","notes","forEach","snaphijo","push","id","data","loadEntries","entries","length","fileUpload","file","formData","FormData","append","fetch","method","body","resp","ok","json","cloudResp","secure_url","startLoadingNotes","dispatch","getState","note","setNotes","startLoadingEntries","entradas","setEntry","console","log","startSaveNote","activeNote","active","url","noteToFirestore","update","Date","getTime","doc","refreshNote","Swal","fire","title","addNote","deleNote","login","displayName","logout","LoginScreen","React","memo","useDispatch","loading","useSelector","state","ui","estadolog","animate","setAnimate","useEffect","email","password","className","onSubmit","e","preventDefault","signInWithEmailAndPassword","then","user","catch","message","startLogin","placeholder","autoComplete","onChange","disabled","onClick","signInWithPopup","src","alt","to","RegisterScreen","password2","isFormValid","trim","validator","isEmail","createUserWithEmailAndPassword","updateProfile","startRegister","AuthRouter","msgError","redirect","path","render","JournalEntry","date","noteDate","moment","truncateString","str","num","slice","style","backgroundSize","backgroundImage","format","JournalEntries","map","key","SideBar","config","userbanner","setUserbanner","signOut","newNote","add","NotesAppBar","interval","fromNow","display","files","text","allowOutsideClick","onBeforeOpen","showLoading","fileUrl","close","startUploading","document","querySelector","click","ImgLoad","setLoading","Spinner","animation","onLoad","NoteScreen","activeID","useRef","current","delete","NothingSelected","JournalScreen","PublicRoute","isLoggedin","Component","componente","rest","props","PrivateRoute","hasLogout","AppRouter","checking","setChecking","setIsLoggedin","setHasLogout","onAuthStateChanged","exact","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducers","combineReducers","action","filter","store","createStore","applyMiddleware","thunk","JournalApp","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.a061ac47.chunk.js","sourcesContent":["import { useState } from 'react';\r\n\r\nexport const useForm = (initialState = {}) => {\r\n\tconst [formValues, setValues] = useState(initialState);\r\n\r\n\tconst reset = (newFormState = initialState) => {\r\n\t\tsetValues(newFormState);\r\n\t};\r\n\r\n\tconst handleInputChange = ({ target }) => {\r\n\t\tsetValues({\r\n\t\t\t...formValues,\r\n\t\t\t[target.name]: target.value,\r\n\t\t});\r\n\t};\r\n\r\n\treturn { formValues, handleInputChange, reset };\r\n};\r\n","export const types = {\r\n\tlogin: '[Auth] Login',\r\n\tlogout: '[Auth] Logout',\r\n\r\n\tuiSetError: '[UI] Set error',\r\n\tuiRemoveError: '[UI] Remove error',\r\n\tuiRedirect: '[UI] Redirect error',\r\n\tuiRemoveRedirect: '[UI] Remove Redirect error',\r\n\r\n\tuiStartLoading: '[UI] Start Loading',\r\n\tuiFinishLoading: '[UI] Finish Loading',\r\n\r\n\tnotesAddNew: '[Notes] New Note',\r\n\tnotesActive: '[Notes] Set Active Note',\r\n\tnotesLoad: '[Notes] Load Note',\r\n\tnotesUpdated: '[Notes] Update note',\r\n\tnotesFileUrl: '[Notes] Update image url',\r\n\tnotesDelete: '[Notes] Delete note',\r\n\tnotesLogoutCleaning: '[Notes] Logout Cleaning',\r\n\tnotesEntries: '[Notes] Entries Add',\r\n\tnotesLastUpdate: '[Notes] Note Last Update',\r\n};\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\nconst firebaseConfig = {\r\n\tapiKey: process.env.REACT_APP_APIKEY,\r\n\tauthDomain: process.env.REACT_APP_AUTHDOMAIN,\r\n\tdatabaseURL: process.env.REACT_APP_DATABASEURL,\r\n\tprojectId: process.env.REACT_APP_PROJECTID,\r\n\tstorageBucket: process.env.REACT_APP_STORAGEBUCKET,\r\n\tmessagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID,\r\n\tappId: process.env.REACT_APP_APPID,\r\n};\r\n\r\n// const firebaseConfig = {\r\n// \tapiKey: 'AIzaSyBz3QnOZZVyF0qlxFt3-KIlav6XgKhbiSk',\r\n// \tauthDomain: 'react-app-course-409ba.firebaseapp.com',\r\n// \tdatabaseURL: 'https://react-app-course-409ba.firebaseio.com',\r\n// \tprojectId: 'react-app-course-409ba',\r\n// \tstorageBucket: 'react-app-course-409ba.appspot.com',\r\n// \tmessagingSenderId: '153096746563',\r\n// \tappId: '1:153096746563:web:af7d96c53ce407f3d906f6',\r\n// };\r\n\r\n// const firebaseConfigTesting = {\r\n// \tapiKey: 'AIzaSyCPan1TbmxyMQXcvOJGCog-k_o87nAG4QI',\r\n// \tauthDomain: 'react-app-testing-60027.firebaseapp.com',\r\n// \tdatabaseURL: 'https://react-app-testing-60027.firebaseio.com',\r\n// \tprojectId: 'react-app-testing-60027',\r\n// \tstorageBucket: 'react-app-testing-60027.appspot.com',\r\n// \tmessagingSenderId: '615866014222',\r\n// \tappId: '1:615866014222:web:2e42d0bb4cf13a8afdba5f',\r\n// };\r\n\r\n// if (process.env.NODE_ENV == 'test') {\r\n// \t//testing\r\n\r\n// \tfirebase.initializeApp(firebaseConfigTesting);\r\n// } else {\r\n// \t//dev//prod\r\n// }\r\n// // Initialize Firebase\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nconst db = firebase.firestore(); //esta es la base de datos\r\nconst googleAuthProvider = new firebase.auth.GoogleAuthProvider(); //auth provider con google\r\n\r\nexport { db, googleAuthProvider, firebase };\r\n","import { types } from './../types/types';\r\nexport const setError = (err) => {\r\n\treturn {\r\n\t\ttype: types.uiSetError,\r\n\t\tpayload: err,\r\n\t};\r\n};\r\n\r\nexport const removeError = () => {\r\n\treturn {\r\n\t\ttype: types.uiRemoveError,\r\n\t};\r\n};\r\n\r\nexport const redirectError = () => {\r\n\treturn {\r\n\t\ttype: types.uiRedirect,\r\n\t};\r\n};\r\n\r\nexport const removeRedirectError = () => {\r\n\treturn {\r\n\t\ttype: types.uiRemoveRedirect,\r\n\t};\r\n};\r\n\r\nexport const startLoading = () => {\r\n\treturn {\r\n\t\ttype: types.uiStartLoading,\r\n\t};\r\n};\r\n\r\nexport const finishLoading = () => {\r\n\treturn {\r\n\t\ttype: types.uiFinishLoading,\r\n\t};\r\n};\r\n","import { db } from '../firebase/firebaseConfig';\r\n\r\nexport const loadNotes = async (uid) => {\r\n\tconst notesSnap = await db\r\n\t\t.collection(`${uid}/journal/notes`)\r\n\t\t.orderBy('date', 'desc')\r\n\t\t.get();\r\n\r\n\tconst notes = [];\r\n\r\n\tnotesSnap.forEach((snaphijo) => {\r\n\t\tnotes.push({ id: snaphijo.id, ...snaphijo.data() });\r\n\t});\r\n\r\n\treturn notes;\r\n};\r\n","import { loadNotes } from './loadNotes';\r\n\r\nexport const loadEntries = async (uid) => {\r\n\t// console.log(uid);\r\n\t// const entradas = await db.collection(`${uid}/config/totalentries`).get();\r\n\r\n\t// let entries = {};\r\n\t// entradas.forEach((snaphijo) => {\r\n\t// \tentries = { id: snaphijo.id, ...snaphijo.data() };\r\n\t// });\r\n\r\n\tconst notes = await loadNotes(uid);\r\n\t// console.log(notes);\r\n\tconst entries = notes.length;\r\n\t// notesSnap.forEach((snaphijo) => {\r\n\t// \tnotes.push({ id: snaphijo.id, ...snaphijo.data() });\r\n\t// });\r\n\r\n\treturn entries;\r\n};\r\n","export const fileUpload = async (file) => {\r\n\tconst cloudUrl = 'https://api.cloudinary.com/v1_1/hadesdev/upload';\r\n\r\n\tconst formData = new FormData();\r\n\r\n\tformData.append('upload_preset', 'react-journal');\r\n\tformData.append('file', file);\r\n\r\n\ttry {\r\n\t\tconst resp = await fetch(cloudUrl, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: formData,\r\n\t\t});\r\n\r\n\t\tif (resp.ok) {\r\n\t\t\tconst cloudResp = await resp.json();\r\n\t\t\treturn cloudResp.secure_url;\r\n\t\t} else {\r\n\t\t\t//error de clouddinary\r\n\t\t\treturn null;\r\n\t\t}\r\n\t} catch (error) {\r\n\t\t//eror de manerjo, puede ser que el url no exista es un error del fetch\r\n\t\tthrow error;\r\n\t}\r\n};\r\n","import { db } from '../firebase/firebaseConfig';\r\nimport { types } from './../types/types';\r\nimport { loadNotes } from './../helpers/loadNotes';\r\nimport Swal from 'sweetalert2';\r\nimport { loadEntries } from './../helpers/loadEntries';\r\nimport { fileUpload } from './../helpers/fileUpload';\r\n\r\n//accion asincrona que crea una nueva nota y luego hace el dispatch para que se active una nota, y se empiezan\r\n// a cargar las nuevas entradas\r\nexport const startNewNote = () => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst uid = getState().auth.uid;\r\n\t\tconst newNote = {\r\n\t\t\ttitle: '',\r\n\t\t\tbody: '',\r\n\t\t\tdate: new Date().getTime(),\r\n\t\t\turl: null,\r\n\t\t\tupdate: null,\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tconst doc = await db.collection(`${uid}/journal/notes`).add(newNote);\r\n\t\t\tdispatch(activeNote(doc.id, newNote));\r\n\t\t\tdispatch(startLoadingEntries(uid));\r\n\t\t\tdispatch(addNote(doc.id, newNote));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\r\n\t\t// console.log(doc);\r\n\t};\r\n};\r\n\r\n//Carga las notas  y las coloca en el state del redux\r\nexport const startLoadingNotes = (uid) => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst note = await loadNotes(uid);\r\n\t\tdispatch(setNotes(note));\r\n\t};\r\n};\r\n\r\n//carga el numero de entraddas que hay direectmaen desde la base de datos\r\n//se puede optimizar para que sea lalmada de StartLoadingNotes\r\nexport const startLoadingEntries = (uid) => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst entradas = await loadEntries(uid);\r\n\t\tdispatch(setEntry(entradas));\r\n\t\tconsole.log(entradas);\r\n\t};\r\n};\r\n\r\n//guarda la nota y hace el dispatch de refresh note para cambiar las propiedades de esa nota modificada\r\nexport const startSaveNote = (note) => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst uid = getState().auth.uid;\r\n\t\tconst { active: activeNote } = getState().notes;\r\n\r\n\t\tif (!note.url) {\r\n\t\t\tdelete note.url;\r\n\t\t}\r\n\r\n\t\tconst noteToFirestore = { ...note };\r\n\t\tdelete noteToFirestore.id;\r\n\t\t//asignacion de propiedad para update y mandar a actualizar en la base de datos\r\n\t\tnoteToFirestore.update = new Date().getTime();\r\n\r\n\t\tawait db.doc(`${uid}/journal/notes/${note.id}`).update(noteToFirestore);\r\n\t\t//asignacion a la variable local luego de que se realizo el save en la base de datos\r\n\t\tactiveNote.update = noteToFirestore.update;\r\n\r\n\t\t//se hace el refresh para que las  notas se actualicen con los nuevos cambios\r\n\r\n\t\tdispatch(refreshNote(note.id, noteToFirestore));\r\n\t\tSwal.fire('Saved', note.title, 'success');\r\n\t};\r\n};\r\n\r\nexport const startUploading = (file) => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst { active: activeNote } = getState().notes;\r\n\r\n\t\tSwal.fire({\r\n\t\t\ttitle: 'Uploading....',\r\n\t\t\ttext: 'Please wait...',\r\n\t\t\tallowOutsideClick: false,\r\n\t\t\tonBeforeOpen: () => {\r\n\t\t\t\tSwal.showLoading();\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tconst fileUrl = await fileUpload(file);\r\n\r\n\t\tSwal.close();\r\n\t\tactiveNote.url = fileUrl;\r\n\t\tdispatch(startSaveNote(activeNote));\r\n\t};\r\n};\r\n\r\nexport const startDelete = (id) => {\r\n\treturn async (dispatch, getState) => {\r\n\t\tconst uid = getState().auth.uid;\r\n\r\n\t\tawait db.doc(`${uid}/journal/notes/${id}`).delete();\r\n\r\n\t\tdispatch(deleNote(id));\r\n\t\tdispatch(startLoadingEntries(uid));\r\n\t};\r\n};\r\n\r\n//accciones sincronas\r\nexport const activeNote = (id, note) => {\r\n\treturn {\r\n\t\ttype: types.notesActive,\r\n\t\tpayload: {\r\n\t\t\tid,\r\n\t\t\t...note,\r\n\t\t},\r\n\t};\r\n};\r\nexport const setNotes = (notes) => {\r\n\treturn {\r\n\t\ttype: types.notesLoad,\r\n\t\tpayload: notes,\r\n\t};\r\n};\r\n\r\nexport const refreshNote = (id, note) => {\r\n\treturn {\r\n\t\ttype: types.notesUpdated,\r\n\t\tpayload: {\r\n\t\t\tid,\r\n\t\t\tnote: {\r\n\t\t\t\tid,\r\n\t\t\t\t...note,\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport const addNote = (id, note) => {\r\n\treturn {\r\n\t\ttype: types.notesAddNew,\r\n\t\tpayload: {\r\n\t\t\tid,\r\n\t\t\t...note,\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport const setEntry = (entradas) => {\r\n\treturn {\r\n\t\ttype: types.notesEntries,\r\n\t\tpayload: entradas,\r\n\t};\r\n};\r\n\r\nexport const deleNote = (id) => {\r\n\treturn {\r\n\t\ttype: types.notesDelete,\r\n\t\tpayload: id,\r\n\t};\r\n};\r\n\r\nexport const noteLogout = () => {\r\n\treturn {\r\n\t\ttype: types.notesLogoutCleaning,\r\n\t};\r\n};\r\n","import { types } from './../types/types';\r\nimport { firebase } from '../firebase/firebaseConfig';\r\nimport { googleAuthProvider } from '../firebase/firebaseConfig';\r\nimport {\r\n\tsetError,\r\n\tfinishLoading,\r\n\tstartLoading,\r\n\tremoveRedirectError,\r\n} from './ui';\r\nimport Swal from 'sweetalert2';\r\nimport { noteLogout } from './notes';\r\n\r\nexport const startLogin = (email, password) => {\r\n\treturn (dispatch) => {\r\n\t\tdispatch(startLoading());\r\n\t\treturn firebase\r\n\t\t\t.auth()\r\n\t\t\t.signInWithEmailAndPassword(email, password)\r\n\t\t\t.then(({ user }) => {\r\n\t\t\t\tdispatch(login(user.uid, user.displayName));\r\n\t\t\t\t// dispatch(removeError());\r\n\t\t\t\tdispatch(finishLoading());\r\n\t\t\t\tSwal.fire('Logeed IN!', 'User Auth Correct', 'success');\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\t// dispatch(setError(e.message));\r\n\t\t\t\tSwal.fire('Error', e.message, 'error');\r\n\t\t\t\tdispatch(finishLoading());\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\nexport const startRegister = (name, email, password) => {\r\n\treturn (dispatch) => {\r\n\t\tdispatch(startLoading());\r\n\t\treturn firebase\r\n\t\t\t.auth()\r\n\t\t\t.createUserWithEmailAndPassword(email, password)\r\n\t\t\t.then(async ({ user }) => {\r\n\t\t\t\tawait user.updateProfile({ displayName: name });\r\n\t\t\t\tconsole.log(user.displayName);\r\n\t\t\t\tdispatch(login(user.uid, user.displayName));\r\n\t\t\t\tdispatch(finishLoading());\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tdispatch(finishLoading());\r\n\t\t\t\tSwal.fire('Error', e.message, 'error');\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\nexport const startGoogleLogin = () => {\r\n\treturn (dispatch) => {\r\n\t\tfirebase\r\n\t\t\t.auth()\r\n\t\t\t.signInWithPopup(googleAuthProvider)\r\n\t\t\t.then(({ user }) => {\r\n\t\t\t\tdispatch(login(user.uid, user.displayName));\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\nexport const login = (uid, displayName) => {\r\n\treturn {\r\n\t\ttype: types.login,\r\n\t\tpayload: {\r\n\t\t\tuid,\r\n\t\t\tdisplayName,\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport const startLogout = () => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(setError('Has cerrado sesion'));\r\n\t\tawait firebase.auth().signOut();\r\n\t\tdispatch(removeRedirectError());\r\n\t\tdispatch(logout());\r\n\t\tdispatch(noteLogout());\r\n\t};\r\n};\r\n\r\nexport const logout = () => ({\r\n\ttype: types.logout,\r\n});\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useForm } from './../../hooks/useForm';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { startLogin, startGoogleLogin } from './../../actions/auth';\r\nimport { removeError } from '../../actions/ui';\r\n\r\nexport const LoginScreen = React.memo(() => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { loading } = useSelector((state) => state.ui);\r\n\tconst { logout: estadolog } = useSelector((state) => state.auth);\r\n\tconst [animate, setAnimate] = useState();\r\n\r\n\tuseEffect(() => {\r\n\t\tsetAnimate('animate__animated animate__fadeInUp animate__faster');\r\n\t\treturn () => {\r\n\t\t\tif (estadolog === false) {\r\n\t\t\t\tdispatch(removeError());\r\n\t\t\t}\r\n\t\t};\r\n\t}, [dispatch, estadolog]);\r\n\t// console.log('Login Screen se llamo');\r\n\r\n\tconst { formValues, handleInputChange } = useForm({\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t});\r\n\r\n\tconst { email, password } = formValues;\r\n\r\n\tconst handleLogin = (e) => {\r\n\t\te.preventDefault();\r\n\t\tconsole.log('login');\r\n\t\tdispatch(startLogin(email, password));\r\n\t\t// if (isloginValidationValid()) {\r\n\t\t// \tdispatch(startLogin(email, password));\r\n\t\t// }\r\n\t};\r\n\r\n\tconst handleGoogleLogin = () => {\r\n\t\t// console.log('googlelogin');\r\n\t\tdispatch(startGoogleLogin());\r\n\t};\r\n\r\n\t// const isloginValidationValid = () => {\r\n\t// \tif (!validator.isEmail(email)) {\r\n\t// \t\tdispatch(setError('Invalid Email'));\r\n\t// \t\treturn false;\r\n\t// \t}\r\n\r\n\t// return true;\r\n\t// };\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h3 className=\"auth__title\">Login</h3>\r\n\t\t\t<form onSubmit={handleLogin} className={animate}>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\tclassName=\"auth__input\"\r\n\t\t\t\t\tvalue={email}\r\n\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tplaceholder=\"password\"\r\n\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\tclassName=\"auth__input mt-3\"\r\n\t\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t\t\tvalue={password}\r\n\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\tclassName=\"btn btn-success btn-block mt-2\"\r\n\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t>\r\n\t\t\t\t\tLogin\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<div className=\"auth__social-networks\">\r\n\t\t\t\t\t<p>Login with Social Networks </p>\r\n\r\n\t\t\t\t\t<div className=\"google-btn\" onClick={handleGoogleLogin}>\r\n\t\t\t\t\t\t<div className=\"google-icon-wrapper\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"google-icon\"\r\n\t\t\t\t\t\t\t\tsrc=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\r\n\t\t\t\t\t\t\t\talt=\"google button\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p className=\"btn-text\">\r\n\t\t\t\t\t\t\t<b>Sign in with google</b>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Link to=\"/auth/register\" className=\"link\">\r\n\t\t\t\t\tCreate new account\r\n\t\t\t\t</Link>\r\n\t\t\t</form>\r\n\t\t</>\r\n\t);\r\n});\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useForm } from './../../hooks/useForm';\r\nimport validator from 'validator';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setError, removeError, removeRedirectError } from './../../actions/ui';\r\nimport { startRegister } from '../../actions/auth';\r\n\r\nexport const RegisterScreen = React.memo(() => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { loading } = useSelector((state) => state.ui);\r\n\r\n\tconst { formValues, handleInputChange } = useForm({\r\n\t\tname: 'Juan',\r\n\t\temail: 'juangiler7@outlook.com',\r\n\t\tpassword: '123456',\r\n\t\tpassword2: '123456',\r\n\t});\r\n\r\n\tconst { name, email, password, password2 } = formValues;\r\n\r\n\t//activar papra eliminar el error del redirect cuando entre a registro\r\n\t// useEffect(() => {\r\n\t// \tdispatch(removeRedirectError());\r\n\t// }, [dispatch]);\r\n\r\n\t//manejo de mensajes con la pantalla de login screen\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(removeRedirectError());\r\n\t\tdispatch(removeError());\r\n\t\treturn () => {\r\n\t\t\tdispatch(removeError());\r\n\t\t};\r\n\t}, [dispatch]);\r\n\r\n\tconst handleRegister = (e) => {\r\n\t\te.preventDefault();\r\n\t\t// console.log(name, email, password, password2);\r\n\t\tif (isFormValid()) {\r\n\t\t\tdispatch(startRegister(name, email, password));\r\n\t\t}\r\n\t};\r\n\r\n\tconst isFormValid = () => {\r\n\t\tif (name.trim().length === 0) {\r\n\t\t\tdispatch(setError('Name is Required'));\r\n\t\t\treturn false;\r\n\t\t} else if (!validator.isEmail(email)) {\r\n\t\t\tdispatch(setError('Enter valid Email'));\r\n\t\t\treturn false;\r\n\t\t} else if (password !== password2 || password.length < 5) {\r\n\t\t\tdispatch(setError('Password Should be at 6 and match'));\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tdispatch(removeError());\r\n\t\treturn true;\r\n\t};\r\n\t/*\r\n\t\t{\r\n\t\t\tname: 'Juan'\r\n\t\t\temail: 'juangiler7@outlook.com'\r\n\t\t\tpassword: 123\r\n\t\t\tpassword2: 123\r\n\t\t}\r\n\t\tuserForm\r\n\r\n\t\tconst handleRegister \r\n\t\trecibo el evento\r\n\t\timprimir valores actualizados en click\r\n\t*/\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h3 className=\"auth__title\">Register</h3>\r\n\r\n\t\t\t<form\r\n\t\t\t\tonSubmit={handleRegister}\r\n\t\t\t\tclassName=\"animate__animated animate__fadeInUp animate__faster\"\r\n\t\t\t>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\tclassName=\"auth__input mt-5\"\r\n\t\t\t\t\tvalue={name}\r\n\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\tclassName=\"auth__input mt-5\"\r\n\t\t\t\t\tvalue={email}\r\n\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\tclassName=\"auth__input mt-5\"\r\n\t\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t\t\tvalue={password}\r\n\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tplaceholder=\"Confirm Password\"\r\n\t\t\t\t\tname=\"password2\"\r\n\t\t\t\t\tclassName=\"auth__input mt-5\"\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\tvalue={password2}\r\n\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\tclassName=\"btn btn-primary btn-block mt-1 mb-5\"\r\n\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t>\r\n\t\t\t\t\tRegister\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<Link to=\"/auth/login\" className=\"link\">\r\n\t\t\t\t\tAlready registered?\r\n\t\t\t\t</Link>\r\n\t\t\t</form>\r\n\t\t</>\r\n\t);\r\n});\r\n","import React from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport { LoginScreen } from '../components/auth/LoginScreen';\r\nimport { RegisterScreen } from '../components/auth/RegisterScreen';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport const AuthRouter = React.memo(() => {\r\n\tconst { msgError } = useSelector((state) => state.ui);\r\n\tconst { redirect } = useSelector((state) => state.ui);\r\n\t// console.log('Auth router se llamo');\r\n\treturn (\r\n\t\t<div className=\"auth__main\">\r\n\t\t\t<div className=\"auth__box-container\">\r\n\t\t\t\t{msgError && <div className=\"auth__alert-info\">{msgError}!</div>}\r\n\t\t\t\t{redirect && (\r\n\t\t\t\t\t<div className=\"auth__alert-error\">Debe iniciar sesion primero!</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route path=\"/auth/login\" render={() => <LoginScreen />} />\r\n\t\t\t\t\t<Route path=\"/auth/register\" render={() => <RegisterScreen />} />\r\n\t\t\t\t\t<Redirect to=\"/auth/login\" />\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n});\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport { useDispatch } from 'react-redux';\r\nimport { activeNote } from '../../actions/notes';\r\nexport const JournalEntry = ({ id, date, title, body, url, update }) => {\r\n\tconst noteDate = moment(date);\r\n\tconsole.log(url, update);\r\n\tconst dispatch = useDispatch();\r\n\tconst note = {\r\n\t\ttitle: title,\r\n\t\tbody: body,\r\n\t\tdate: date,\r\n\t\turl: url,\r\n\t\tupdate: update,\r\n\t};\r\n\r\n\tconst handleEntreClick = () => {\r\n\t\tdispatch(activeNote(id, note));\r\n\t};\r\n\r\n\tconst truncateString = (str, num) => {\r\n\t\t// If the length of str is less than or equal to num\r\n\t\t// just return str--don't truncate it.\r\n\t\tif (str.length <= num) {\r\n\t\t\treturn str;\r\n\t\t}\r\n\t\t// Return str truncated with '...' concatenated to the end of str.\r\n\t\treturn str.slice(0, num) + '...';\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"journal__entry animate__animated animate__fadeIn\"\r\n\t\t\tonClick={handleEntreClick}\r\n\t\t>\r\n\t\t\t{url && (\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"journal__entry-picture\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t\t\t\tbackgroundImage: `url(${url})`,\r\n\t\t\t\t\t}}\r\n\t\t\t\t></div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"journal__entry-body\">\r\n\t\t\t\t<p className=\"journal__entry-title\">{truncateString(title, 30)}</p>\r\n\t\t\t\t<p className=\"journal__entry-content\">{truncateString(body, 60)}</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"journal__entry-date-box\">\r\n\t\t\t\t<span>{noteDate.format('dddd')}</span>\r\n\t\t\t\t<h4>{noteDate.format('Do')}</h4>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { JournalEntry } from './JournalEntry';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport const JournalEntries = () => {\r\n\tconst { notes } = useSelector((state) => state.notes);\r\n\r\n\treturn (\r\n\t\t<div className=\"journal__entries \">\r\n\t\t\t{notes.map((notes) => (\r\n\t\t\t\t<JournalEntry key={notes.id} {...notes} />\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { JournalEntries } from './JournalEntries';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { startLogout } from './../../actions/auth';\r\nimport { startNewNote } from '../../actions/notes';\r\n\r\nexport const SideBar = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { name } = useSelector((state) => state.auth);\r\n\tconst { config } = useSelector((state) => state.notes);\r\n\tconst [userbanner, setUserbanner] = useState();\r\n\t// console.log(config);\r\n\tconst handleLogout = () => {\r\n\t\tdispatch(startLogout());\r\n\t};\r\n\r\n\tconst handleAddNew = () => {\r\n\t\tdispatch(startNewNote());\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (config > 0) {\r\n\t\t\tsetUserbanner(config);\r\n\t\t} else if (config === 0) {\r\n\t\t\tsetUserbanner('No hay entradas');\r\n\t\t}\r\n\t}, [setUserbanner, config]);\r\n\r\n\treturn (\r\n\t\t<aside className=\"journal__sidebar animate__animated animate__fadeIn animate__faster\">\r\n\t\t\t<div className=\"journal__sidebar-navbar\">\r\n\t\t\t\t<h3 className=\"mt-1\">\r\n\t\t\t\t\t<i className=\"fas fa-user-astronaut\"></i>\r\n\t\t\t\t\t<span>{`  ${name}  (${\r\n\t\t\t\t\t\tuserbanner ? userbanner : 'Loading...'\r\n\t\t\t\t\t})`}</span>\r\n\t\t\t\t</h3>\r\n\r\n\t\t\t\t<button className=\"btn btn-danger\" onClick={handleLogout}>\r\n\t\t\t\t\tLogout\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"journal__new-entry\" onClick={handleAddNew}>\r\n\t\t\t\t<i className=\"far fa-calendar-plus fa-3x\"></i>\r\n\t\t\t\t<p className=\"mt-1\"> New Entry</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<JournalEntries />\r\n\t\t</aside>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport Moment from 'react-moment';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { startSaveNote, startUploading } from './../../actions/notes';\r\n\r\nexport const NotesAppBar = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { active } = useSelector((state) => state.notes);\r\n\t// const noteDate = moment(active.update);\r\n\r\n\tconst handleSave = () => {\r\n\t\t// console.log(active);\r\n\t\tdispatch(startSaveNote(active));\r\n\t};\r\n\r\n\tconst handlePictureUpload = () => {\r\n\t\tconsole.log('picture');\r\n\t\tdocument.querySelector('#fileSelector').click();\r\n\t\tdocument.querySelector('#fileSelector').value = '';\r\n\t};\r\n\r\n\tconst handleFileChange = (e) => {\r\n\t\tconst file = e.target.files[0];\r\n\t\tconsole.log(e);\r\n\t\tif (file) {\r\n\t\t\tdispatch(startUploading(file));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"notes__appbar\">\r\n\t\t\t{active.update && (\r\n\t\t\t\t<Moment interval={60000} fromNow>\r\n\t\t\t\t\t{active.update}\r\n\t\t\t\t</Moment>\r\n\t\t\t)}\r\n\t\t\t{/* <span>{noteDate.fromNow()}</span> */}\r\n\r\n\t\t\t<input\r\n\t\t\t\tid=\"fileSelector\"\r\n\t\t\t\ttype=\"file\"\r\n\t\t\t\tname=\"file\"\r\n\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\tonChange={handleFileChange}\r\n\t\t\t/>\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<button className=\"btn btn-info\" onClick={handlePictureUpload}>\r\n\t\t\t\t\tPicture\r\n\t\t\t\t</button>\r\n\t\t\t\t<button className=\"btn btn-success ml-1\" onClick={handleSave}>\r\n\t\t\t\t\tSave\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, { useState } from 'react';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\nexport const ImgLoad = ({ url }) => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst handleOnload = () => {\r\n\t\tsetLoading(true);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading === false && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Spinner animation=\"grow\" />\r\n\t\t\t\t\t<Spinner animation=\"grow\" />\r\n\t\t\t\t\t<Spinner animation=\"grow\" />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"animate__animated animate__fadeIn \">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={url}\r\n\t\t\t\t\talt=\"Imagen\"\r\n\t\t\t\t\tclassName=\"notes__image \"\r\n\t\t\t\t\tonLoad={handleOnload}\r\n\t\t\t\t\tstyle={{ display: loading ? 'block' : 'none' }}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n","import React, { useEffect, useRef } from 'react';\r\nimport { NotesAppBar } from './NotesAppBar';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useForm } from './../../hooks/useForm';\r\nimport { activeNote } from '../../actions/notes';\r\nimport { startDelete } from './../../actions/notes';\r\nimport { ImgLoad } from './ImgLoad';\r\n\r\nexport const NoteScreen = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { active } = useSelector((state) => state.notes);\r\n\tconst { formValues, handleInputChange, reset } = useForm({\r\n\t\ttitle: active.title,\r\n\t\tbody: active.body,\r\n\t\tdate: active.date,\r\n\t\tid: active.id,\r\n\t});\r\n\tconst activeID = useRef(active.id);\r\n\tconst { body, title } = formValues;\r\n\tconsole.log(formValues);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (active.id !== activeID.current) {\r\n\t\t\treset({\r\n\t\t\t\ttitle: active.title,\r\n\t\t\t\tbody: active.body,\r\n\t\t\t\tdate: active.date,\r\n\t\t\t\tid: active.id,\r\n\t\t\t});\r\n\t\t\tactiveID.current = active.id;\r\n\t\t}\r\n\t}, [active, reset]);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(\r\n\t\t\tactiveNote(formValues.id, {\r\n\t\t\t\t...formValues,\r\n\t\t\t})\r\n\t\t);\r\n\t}, [formValues, dispatch]);\r\n\r\n\tconst handleDelete = () => {\r\n\t\tdispatch(startDelete(active.id));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"notes__main-content animate__animated animate__zoomIn animate__faster\">\r\n\t\t\t<NotesAppBar />\r\n\r\n\t\t\t<div className=\"notes__content\">\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"Some awesome title\"\r\n\t\t\t\t\tclassName=\"notes__title-input\"\r\n\t\t\t\t\tvalue={title}\r\n\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tname=\"body\"\r\n\t\t\t\t\tclassName=\"notes__textarea\"\r\n\t\t\t\t\tplaceholder=\"What happened today?\"\r\n\t\t\t\t\tvalue={body}\r\n\t\t\t\t\tonChange={handleInputChange}\r\n\t\t\t\t></textarea>\r\n\r\n\t\t\t\t{active.url && <ImgLoad url={active.url} />}\r\n\t\t\t</div>\r\n\t\t\t<button className=\"btn btn-danger\" onClick={handleDelete}>\r\n\t\t\t\tDelete\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from 'react';\r\n\r\nexport const NothingSelected = () => {\r\n\treturn (\r\n\t\t<div className=\"nothing__main-content animate__animated animate__fadeIn animate__faster\">\r\n\t\t\t<p>\r\n\t\t\t\tSelect something\r\n\t\t\t\t<br />\r\n\t\t\t\tor Create an Entry!\r\n\t\t\t</p>\r\n\t\t\t<i className=\"far fa-star fa-4x mt-5\"></i>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { SideBar } from './SideBar';\r\nimport { NoteScreen } from '../notes/NoteScreen';\r\nimport { NothingSelected } from './NothingSelected';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport const JournalScreen = () => {\r\n\tconst { active } = useSelector((state) => state.notes);\r\n\treturn (\r\n\t\t<div className=\"journal__main-content\">\r\n\t\t\t<SideBar />\r\n\r\n\t\t\t<main>\r\n\t\t\t\t{active ? <NoteScreen key={active.id} /> : <NothingSelected />}\r\n\t\t\t\t{/* <NothingSelected /> */}\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t);\r\n};\r\n","import React, { useEffect } from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport const PublicRoute = ({ isLoggedin, componente: Component, ...rest }) => {\r\n\tuseEffect(() => {\r\n\t\t// console.log('Public route montado');\r\n\t\treturn () => {\r\n\t\t\t// console.log('Public Router desmontado');\r\n\t\t};\r\n\t}, []);\r\n\t// console.log('Public route se llamo');\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={(props) => (!isLoggedin ? <Component /> : <Redirect to=\"/\" />)}\r\n\t\t></Route>\r\n\t);\r\n};\r\n\r\n// PublicRoute.propTypes = {\r\n// \tisLoggedin: PropTypes.bool.isRequired,\r\n// \tcomponent: PropTypes.func.isRequired,\r\n// };\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\n// import { logout } from '../actions/auth';\r\nimport { redirectError } from './../actions/ui';\r\n\r\nexport const PrivateRoute = ({\r\n\tisLoggedin,\r\n\thasLogout,\r\n\tcomponente: Component,\r\n\t...rest\r\n}) => {\r\n\t// console.log(rest.location.search);\r\n\t// localStorage.setItem(\r\n\t// \t'lastPath',\r\n\t// \trest.location.pathname + rest.location.search\r\n\t// );\r\n\t// console.log(rest);\r\n\tconst dispatch = useDispatch();\r\n\t// console.log('Private Router se llamo');\r\n\r\n\t//activar para creaar mensaje de error del redirect\r\n\tuseEffect(() => {\r\n\t\t// console.log('Private router montado');\r\n\t\tif (hasLogout === false) {\r\n\t\t\tdispatch(redirectError());\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\t// console.log('Private route demontado');\r\n\t\t};\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Route\r\n\t\t\t{...rest}\r\n\t\t\trender={(props) =>\r\n\t\t\t\tisLoggedin ? <Component {...props} /> : <Redirect to=\"/auth/login\" />\r\n\t\t\t}\r\n\t\t></Route>\r\n\t);\r\n};\r\n\r\nPrivateRoute.propTypes = {\r\n\tisLoggedin: PropTypes.bool.isRequired,\r\n\tcomponente: PropTypes.func.isRequired,\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { BrowserRouter as Router, Switch, Redirect } from 'react-router-dom';\r\nimport { AuthRouter } from './AuthRouter';\r\nimport { JournalScreen } from '../components/journal/JournalScreen';\r\nimport { firebase } from '../firebase/firebaseConfig';\r\nimport { useDispatch } from 'react-redux';\r\nimport { login } from '../actions/auth';\r\nimport { PublicRoute } from './PublicRoute';\r\nimport { PrivateRoute } from './PrivateRoute';\r\n// import { removeError } from '../actions/ui';\r\nimport { startLoadingNotes, startLoadingEntries } from './../actions/notes';\r\n\r\nexport const AppRouter = () => {\r\n\tconst dispatch = useDispatch();\r\n\t// const { redirect } = useSelector((state) => state.ui);\r\n\t// console.log(redirect);\r\n\tconst [checking, setChecking] = useState(true);\r\n\tconst [isLoggedin, setIsLoggedin] = useState(false);\r\n\r\n\t//activar para recibir mensaje en el redirect\r\n\tconst [hasLogout, setHasLogout] = useState(false);\r\n\r\n\t//pruebas de re renders en los hijos\r\n\t// const [show, setShow] = useState(false);\r\n\r\n\t//pruebas de re renders\r\n\t// const handleShow = () => {\r\n\t// \tsetShow(!show);\r\n\t// };\r\n\r\n\tuseEffect(() => {\r\n\t\tfirebase.auth().onAuthStateChanged(async (user) => {\r\n\t\t\tif (user?.uid) {\r\n\t\t\t\tdispatch(login(user.uid, user.displayName));\r\n\t\t\t\tdispatch(startLoadingEntries(user.uid));\r\n\t\t\t\tdispatch(startLoadingNotes(user.uid));\r\n\t\t\t\tsetIsLoggedin(true);\r\n\t\t\t\t//mensaje cuando hace redirect\r\n\t\t\t\tsetHasLogout(true);\r\n\t\t\t} else {\r\n\t\t\t\tsetIsLoggedin(false);\r\n\t\t\t\t//mensajes cuando hace redirect\r\n\t\t\t\tsetHasLogout(false);\r\n\t\t\t}\r\n\t\t\tsetChecking(false);\r\n\t\t});\r\n\t\t//unsuscribe\r\n\t}, [dispatch, setChecking]);\r\n\r\n\tif (checking) {\r\n\t\treturn <h1>Espere.....</h1>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{/* prueba de re renders en hijos  */}\r\n\t\t\t{/* <div>\r\n\t\t\t\t<button type=\"button\" onClick={handleShow}>\r\n\t\t\t\t\tShow\r\n\t\t\t\t</button>\r\n\t\t\t</div> */}\r\n\t\t\t<Router>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<PublicRoute\r\n\t\t\t\t\t\t\tisLoggedin={isLoggedin}\r\n\t\t\t\t\t\t\tpath=\"/auth\"\r\n\t\t\t\t\t\t\tcomponente={AuthRouter}\r\n\t\t\t\t\t\t></PublicRoute>\r\n\t\t\t\t\t\t<PrivateRoute\r\n\t\t\t\t\t\t\tisLoggedin={isLoggedin}\r\n\t\t\t\t\t\t\t//activa para cocndicional del mensaje de redirect\r\n\t\t\t\t\t\t\thasLogout={hasLogout}\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath=\"/\"\r\n\t\t\t\t\t\t\tcomponente={JournalScreen}\r\n\t\t\t\t\t\t></PrivateRoute>\r\n\r\n\t\t\t\t\t\t{/* <Route path=\"/auth\" component={AuthRouter} /> */}\r\n\t\t\t\t\t\t{/* <Route exact path=\"/\" component={JournalScreen} /> */}\r\n\t\t\t\t\t\t<Redirect to=\"/auth/login\" />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t</Router>\r\n\t\t</>\r\n\t);\r\n};\r\n","import { types } from './../types/types';\r\n\r\nconst initialState = {\r\n\tloading: false,\r\n\tmsgError: null,\r\n};\r\n\r\nexport const uiReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase types.uiSetError:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmsgError: action.payload,\r\n\t\t\t};\r\n\r\n\t\tcase types.uiRemoveError:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmsgError: null,\r\n\t\t\t};\r\n\r\n\t\tcase types.uiRedirect:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tredirect: true,\r\n\t\t\t};\r\n\r\n\t\tcase types.uiRemoveRedirect:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tredirect: false,\r\n\t\t\t};\r\n\r\n\t\tcase types.uiStartLoading:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\r\n\t\tcase types.uiFinishLoading:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { types } from './../types/types';\r\n/*\r\n    {\r\n        note:[]\r\n        active: null o {\r\n            id: 'alkmaklasmsakd',\r\n            title : \"\",\r\n            body: '',\r\n            imageUrl: '',\r\n            date: 124332\r\n        }\r\n    }\r\n*/\r\n\r\nconst initialState = {\r\n\tnotes: [],\r\n\tactive: null,\r\n};\r\n\r\nexport const notesReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase types.notesActive:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tactive: {\r\n\t\t\t\t\t//regreso el estado anterior para que cuando se haga el save\r\n\t\t\t\t\t//evitar que el form save traiga un estado anterior\r\n\t\t\t\t\t// entonces quito esas propiedades del formSate y\r\n\t\t\t\t\t// manejo el estado nuevo traido directamente del active\r\n\t\t\t\t\t...state.active,\r\n\t\t\t\t\t...action.payload,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\tcase types.notesLoad:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnotes: [...action.payload],\r\n\t\t\t};\r\n\r\n\t\tcase types.notesUpdated:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnotes: state.notes.map((note) =>\r\n\t\t\t\t\tnote.id === action.payload.id ? action.payload.note : note\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\tcase types.notesAddNew:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnotes: [action.payload, ...state.notes],\r\n\t\t\t};\r\n\r\n\t\tcase types.notesEntries:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tconfig: action.payload,\r\n\t\t\t};\r\n\r\n\t\tcase types.notesDelete:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tactive: null,\r\n\t\t\t\tnotes: state.notes.filter((note) => note.id !== action.payload),\r\n\t\t\t};\r\n\r\n\t\tcase types.notesLogoutCleaning:\r\n\t\t\treturn {\r\n\t\t\t\tnotes: [],\r\n\t\t\t\tactive: null,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport { authReducer } from './../reducers/authReducer';\r\nimport { uiReducer } from './../reducers/uiReducer';\r\nimport { notesReducer } from './../reducers/notesReducer';\r\n\r\nconst composeEnhancers =\r\n\t(typeof window !== 'undefined' &&\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\r\n\tcompose;\r\n//combine reducer permite tener varios reducer en el store\r\n//concepto de escalibiliad\r\n//propiedades del stores -->\r\nconst reducers = combineReducers({\r\n\tauth: authReducer,\r\n\tui: uiReducer,\r\n\tnotes: notesReducer,\r\n});\r\n\r\nexport const store = createStore(\r\n\treducers,\r\n\tcomposeEnhancers(applyMiddleware(thunk))\r\n);\r\n","import { types } from '../types/types';\r\n/*\r\n    {\r\n        uid:lkdneksd,\r\n        name: Fernando\r\n    }\r\n\r\n*/\r\nexport const authReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase types.login:\r\n\t\t\treturn {\r\n\t\t\t\tuid: action.payload.uid,\r\n\t\t\t\tname: action.payload.displayName,\r\n\t\t\t\tlogout: false,\r\n\t\t\t};\r\n\r\n\t\tcase types.logout:\r\n\t\t\treturn { logout: true };\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { AppRouter } from './routers/AppRouter';\r\nimport { store } from './store/store';\r\n\r\nexport const JournalApp = () => {\r\n\treturn (\r\n\t\t<Provider store={store}>\r\n\t\t\t<AppRouter />\r\n\t\t</Provider>\r\n\t);\r\n};\r\n\r\n//react-journal\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { JournalApp } from './JournalApp';\nimport './styles/styles.scss';\n\nReactDOM.render(<JournalApp />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}